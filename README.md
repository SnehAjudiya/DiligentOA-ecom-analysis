# Diligent OA – Sample E-commerce Dataset and SQLite Loader

This repo contains synthetic e-commerce CSV data, a SQLite ingestion script, and example analytical queries.

## Contents
- `customers.csv`, `products.csv`, `orders.csv`, `inventory.csv`, `payments.csv` – related sample data (15–18 rows each).
- `ecommerce_data.py` – loads the CSVs into SQLite with foreign keys enforced.
- `queries.sql` – reusable SQL joins/summaries.
- `ecom.db` – SQLite database produced after running the loader.
- `output.csv` – example output generated by your run.

## Prerequisites
- Python 3.x
- `sqlite3` CLI (usually bundled with SQLite/Python installs)

## Load the data into SQLite
From the repo folder:
```bash
python ecommerce_data.py --db ecom.db --data-dir input_data --verbose
```
- Recreates tables each run (drops/rebuilds) and validates CSV headers.
- Foreign keys are enabled; the loader inserts in dependency order.

## Run the sample queries
Execute all queries in `queries.sql`:
```bash
sqlite3 ecom.db ".read queries.sql"
```
Or open an interactive shell:
```bash
sqlite3 ecom.db
-- then paste queries from queries.sql
```

## Files and schemas
- `customers` (`customer_id` PK) -> referenced by `orders`
- `products` (`product_id` PK) -> referenced by `orders`, `inventory`
- `orders` (`order_id` PK) -> references `customers`, `products`
- `payments` (`payment_id` PK) -> references `orders`
- `inventory` (composite PK: `product_id`, `warehouse`) -> references `products`

## Customizing
- Update CSVs to change data; rerun `ecommerce_data.py` to rebuild `ecom.db`.
- Add new SQL to `queries.sql` for additional reports; rerun the `.read` command.

## Example commands
- Reload DB: `python ecommerce_data.py --db ecom.db --verbose`
- Run queries: `sqlite3 ecom.db ".read queries.sql"`

## Credits
Created by Ajudiya Sneh, student of IIT Hyderabad.

